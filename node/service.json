{
  "stack": "nodejs",
  "memory": 512,
  "ttl": 60,
  "timeout": 60,
  "minReplicas": 2,
  "maxReplicas": 12,
  "cpu": {
    "type": "shared",
    "value": 80,
    "scalingPercentage": 95
  },
  "onAppsInstalled": {
    "sender": "apps",
    "topics": [
      "setup"
    ],
    "settingsType": "workspace"
  },
  "routes": {
    "mail": {
      "path": "/_v/mail",
      "public": true,
      "settingsType": "workspace"
    },
    "_mail": {
      "path": "/_v/policy/financial-commission/mail",
      "public": false,
      "access": "authenticated",
      "policies": [
        {
          "effect": "allow",
          "actions": [
            "post"
          ],
          "principals": [
            "vrn:apps:*:*:*:app/obi.seller-financial-commission@*",
            "vrn:vtex.vtex-id:*:*:*:user/*"
          ]
        }
      ],
      "settingsType": "workspace"
    },
    "sellers": {
      "path": "/_v/sellers/list",
      "public": true,
      "settingsType": "workspace"
    },
    "template": {
      "path": "/_v/segment/template",
      "public": true,
      "settingsType": "workspace"
    },
    "payoutTemplate": {
      "path": "/_v/segment/payout/template",
      "public": true,
      "settingsType": "workspace"
    },
    "_template": {
      "path": "/_v/policy/financial-commission/template",
      "public": false,
      "access": "authenticated",
      "policies": [
        {
          "effect": "allow",
          "actions": [
            "get"
          ],
          "principals": [
            "vrn:apps:*:*:*:app/obi.seller-financial-commission@*",
            "vrn:vtex.vtex-id:*:*:*:user/*"
          ]
        }
      ],
      "settingsType": "workspace"
    },
    "generateDashboard": {
      "path": "/dashboard/generate",
      "public": true,
      "settingsType": "workspace"
    },
    "searchSellersDashboard": {
      "path": "/_v/dashboard/sellers/search",
      "public": true,
      "settingsType": "workspace"
    },
    "searchStatisticsDashboard": {
      "path": "/_v/dashboard/statistics/search",
      "public": true,
      "settingsType": "workspace"
    },
    "singleInvoice": {
      "path": "/_v/private/financial-commission/:sellerId/invoice/*id",
      "public": true,
      "settingsType": "workspace"
    },
    "_singleInvoice": {
      "path": "/_v/policy/financial-commission/:sellerId/invoice/*id",
      "public": false,
      "access": "authenticated",
      "policies": [
        {
          "effect": "allow",
          "actions": [
            "get",
            "post"
          ],
          "principals": [
            "vrn:apps:*:*:*:app/obi.seller-financial-commission@*",
            "vrn:vtex.vtex-id:*:*:*:user/*"
          ]
        }
      ],
      "settingsType": "workspace"
    },
    "invoicesBySeller": {
      "path": "/_v/financial-commission/:sellerId/invoices",
      "public": true,
      "settingsType": "workspace"
    },
    "_invoicesBySeller": {
      "path": "/_v/policy/financial-commission/:sellerId/invoices",
      "public": false,
      "access": "authenticated",
      "policies": [
        {
          "effect": "allow",
          "actions": [
            "post"
          ],
          "principals": [
            "*"
          ]
        }
      ],
      "settingsType": "workspace"
    },
    "generateInvoices": {
      "path": "/invoice/generate",
      "public": false,
      "policies": [
        {
          "effect": "allow",
          "actions": [
            "get"
          ],
          "principals": [
            "vrn:apps:*:*:*:app/obi.marketplace-financial-commission-cron@*"
          ]
        }
      ],
      "settingsType": "workspace"
    },
    "orders": {
      "path": "/_v/private/orders",
      "public": true,
      "settingsType": "workspace"
    },
    "_orders": {
      "path": "/_v/policy/private/orders",
      "public": false,
      "access": "authenticated",
      "policies": [
        {
          "effect": "allow",
          "actions": [
            "get"
          ],
          "principals": [
            "vrn:apps:*:*:*:app/obi.seller-financial-commission@*",
            "vrn:vtex.vtex-id:*:*:*:user/*"
          ]
        }
      ],
      "settingsType": "workspace"
    },
    "token": {
      "path": "/_v/financial-commission/token/*sellerId",
      "public": true,
      "settingsType": "workspace"
    },
    "invoiceExternal": {
      "path": "/_v/private/financial-commission/external/invoice/*id",
      "public": true,
      "settingsType": "workspace"
    },
    "invoiceExternalFile": {
      "path": "/_v/private/financial-commission/external/invoice/file/:id/type/:type",
      "public": true,
      "settingsType": "workspace"
    },
    "_invoiceExternalFile": {
      "path": "/_v/policy/external/financial-commission/invoice/file/:id/type/:type",
      "public": false,
      "access": "authenticated",
      "policies": [
        {
          "effect": "allow",
          "actions": [
            "get"
          ],
          "principals": [
            "*"
          ]
        }
      ],
      "settingsType": "workspace"
    },
    "typeIntegration": {
      "path": "/_v/policy/financial-commission/typeIntegration",
      "public": false,
      "access": "authenticated",
      "policies": [
        {
          "effect": "allow",
          "actions": [
            "get"
          ],
          "principals": [
            "vrn:apps:*:*:*:app/obi.seller-financial-commission@*",
            "vrn:apps:*:*:*:app/obi.marketplace-financial-commission-cron@*",
            "vrn:vtex.vtex-id:*:*:*:user/*"
          ]
        }
      ],
      "settingsType": "workspace"
    },
    "payoutReport": {
      "path": "/_v/financial-commission/payout/:sellerId/report/*id",
      "public": true,
      "settingsType": "workspace"
    },
    "_payoutReport": {
      "path": "/_v/policy/financial-commission/payout/:sellerId/report/*id",
      "public": false,
      "access": "authenticated",
      "policies": [
        {
          "effect": "allow",
          "actions": [
            "get"
          ],
          "principals": [
            "*"
          ]
        }
      ],
      "settingsType": "workspace"
    },
    "payoutReportFile": {
      "path": "/_v/private/financial-commission/external/payout/file/:id/type/:type",
      "public": true,
      "settingsType": "workspace"
    },
    "_payoutReportFile": {
      "path": "/_v/policy/external/financial-commission/payout/file/:id/type/:type",
      "public": false,
      "access": "authenticated",
      "policies": [
        {
          "effect": "allow",
          "actions": [
            "get"
          ],
          "principals": [
            "*"
          ]
        }
      ],
      "settingsType": "workspace"
    },
    "ping": {
      "path": "/_v/financial-commission/ping",
      "public": true,
      "settingsType": "workspace"
    }
  }
}