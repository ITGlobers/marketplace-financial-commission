{
  "stack": "nodejs",
  "memory": 512,
  "ttl": 60,
  "timeout": 60,
  "minReplicas": 2,
  "maxReplicas": 12,
  "cpu": {
    "type": "shared",
    "value": 80,
    "scalingPercentage": 95
  },
  "routes": {
    "mail": {
      "path": "/_v/mail",
      "public": true
    },
    "sellers": {
      "path": "/_v/sellers/list",
      "public": true
    },
    "template": {
      "path": "/_v/segment/template",
      "public": true
    },
    "generateDashboard": {
      "path": "/_v/dashboard/generate",
      "public": false,
      "policies": [
        {
          "effect": "allow",
          "actions": [
            "get"
          ],
          "principals": [
            "vrn:apps:*:*:*:app/vtex.marketplace-financial-commission-cron@*"
          ]
        }
      ]
    },
    "searchSellersDashboard": {
      "path": "/_v/dashboard/sellers/search",
      "public": true
    },
    "searchStatisticsDashboard": {
      "path": "/_v/dashboard/statistics/search",
      "public": true
    },
    "singleInvoice": {
      "path": "/_v/financial-commission/:sellerId/invoice/*id",
      "public": false,
      "access": "authenticated",
      "policies": [
        {
          "effect": "allow",
          "actions": [
            "get",
            "post"
          ],
          "principals": [
            "vrn:apps:*:*:*:app/vtex.seller-financial-commission@*",
            "vrn:vtex.vtex-id:*:*:*:user/*@vtex.com.br"
          ]
        }
      ]
    },
    "invoicesBySeller": {
      "path": "/_v/financial-commission/:sellerId/invoices",
      "public": false,
      "access": "authenticated",
      "policies": [
        {
          "effect": "allow",
          "actions": [
            "get"
          ],
          "principals": [
            "vrn:apps:*:*:*:app/vtex.seller-financial-commission@*",
            "vrn:vtex.vtex-id:*:*:*:user/*@vtex.com.br"
          ]
        }
      ]
    },
    "generateInvoices": {
      "path": "/_v/financial-commission/generate-invoices",
      "public": true
    },
    "orders": {
      "path": "/_v/private/:sellerId/orders",
      "public": false,
      "access": "authenticated",
      "policies": [
        {
          "effect": "allow",
          "actions": [
            "get"
          ],
          "principals": [
            "vrn:apps:*:*:*:app/vtex.seller-financial-commission@*",
            "vrn:vtex.vtex-id:*:*:*:user/*@vtex.com.br"
          ]
        }
      ]
    },
    "token": {
      "path": "/_v/token/:sellerId",
      "public": false
    }
  }
}
